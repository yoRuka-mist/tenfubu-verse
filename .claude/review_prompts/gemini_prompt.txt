以下の変更を自由にレビューしてください。あなたはGemini（Google）レビュアーとして、あなた自身の視点で問題点を指摘してください。

## 変更概要
UI改善と同期不具合の修正（デジタルカードゲーム）

1. プレイヤー名変更のインライン化
   - TitleScreen.tsx: 画面遷移を削除し、その場で編集できるUIに変更
   - バリデーション追加（20文字以内、空文字不可）
   - エラー表示機能の実装
   - App.tsx: currentPlayerNameとonPlayerNameUpdateプロパティの追加

2. コスト帯別枚数の棒グラフ実装
   - GalleryCardListScreen.tsx: デッキのコスト分布を可視化
   - 0～最大コストまでの棒グラフを表示
   - 各棒にカード枚数のラベルを表示
   - クラス固有のカラーでグラデーション表示

3. CASUAL_MATCH/RANKED_MATCHの先攻/後攻同期修正
   - GameScreen.tsx: isFirstPlayerの初期化ロジックを修正
   - JOIN側は初期値をfalseにし、INIT_GAMEメッセージ受信時にHOSTから送信されたfirstPlayerIdで上書き
   - HOST側のみランダムで先攻/後攻を決定し、JOINに同期
   - 不具合: 両プレイヤーがそれぞれランダムに先攻/後攻を決定していた

## 重要な確認事項
1. プレイヤー名変更のバリデーションが適切か
2. Firebase更新時のエラーハンドリングが十分か
3. コスト分布グラフの描画ロジックが正しいか（空のコスト帯の扱い）
4. isFirstPlayerの同期が全てのケースで正しく機能するか
5. リマッチ時の状態リセットが適切か
6. JOIN側の初期値falseが適切か（true/falseどちらでも問題ないはずだが）

観点の制限はありません。セキュリティ、ロジック、設計、パフォーマンス、可読性、テスト、その他何でも、あなたが重要だと思う点を自由に指摘してください。Claude（別のAI）とは異なる観点を持つことを期待しています。

出力はJSON1つのみ。スキーマは末尾参照。
blocking が1件でもあれば ok: false としてください。

対象ファイル:
- game/src/screens/TitleScreen.tsx（プレイヤー名変更UI）
- game/src/App.tsx（プロパティ追加）
- game/src/screens/GalleryCardListScreen.tsx（コスト分布グラフ）
- game/src/screens/GameScreen.tsx（同期修正: 2576-2584行目のisFirstPlayer初期化）

diff_range: プレイヤー名変更、コスト分布グラフ、同期修正の3つの変更
前回メモ: なし

[スキーマ]
{"ok":boolean,"reviewer":"gemini","phase":"diff","summary":"...","issues":[{"severity":"blocking|advisory","category":"security|correctness|perf|maintainability|testing|style","file":"...","lines":"...","problem":"...","recommendation":"..."}],"notes_for_next_review":"..."}
