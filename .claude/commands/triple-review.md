# トリプルレビュー

実装完了後のコードを Codex、Gemini、Claude(自己) の3つのAIでレビューし、指摘事項を修正するまで繰り返すスキル。

## 実行条件
- 実装が完了していること
- 変更対象のファイルが明確であること

## フロー

```
1. 変更ファイルの特定
   git diff --name-only でコミット前の変更ファイルを取得
   （または直近のコミットとの差分）

2. Codexレビュー
   codex exec "以下の変更内容をレビューしてください。問題点、改善点、バグの可能性を指摘してください。" を実行
   結果を記録

3. Geminiレビュー
   gemini "以下の変更内容をレビューしてください。問題点、改善点、バグの可能性を指摘してください。" を実行
   結果を記録

4. Claudeセルフレビュー
   自分自身で変更内容をレビュー
   実装者視点とは別に、レビュアー視点で検証

5. 指摘事項の統合
   3つのレビュー結果から重要な指摘を抽出
   - 重複する指摘 → 優先度高
   - 単独の指摘 → 内容を精査して判断

6. 修正実施
   指摘事項に基づいて修正
   修正不要と判断した項目は理由を記録

7. 再レビュー（必要な場合）
   重大な修正があった場合は 2-6 を繰り返す

8. 完了
   全ての指摘が解決または却下理由が明確になったら完了
```

## 実行方法

### コマンド実行
```
/triple-review
```

### 自然言語での呼び出し
- 「トリプルレビューして」
- 「Codex/Gemini/Claudeでレビュー」
- 「レビュー依頼して」

## レビュー依頼テンプレート

### Codex/Gemini共通
```
以下の変更内容をレビューしてください。

## 変更概要
{変更の目的を簡潔に}

## 変更ファイル
{ファイル一覧}

## 差分
{git diff の出力}

## レビュー観点
1. バグ・不具合の可能性
2. パフォーマンス上の問題
3. セキュリティ上の問題
4. 可読性・保守性
5. 設計上の問題

問題点、改善点、懸念事項を具体的に指摘してください。
問題がない場合は「LGTM」と回答してください。
```

## 出力形式

レビュー完了時に以下を出力:

```
## トリプルレビュー結果

### Codex
- [指摘1] ...
- [指摘2] ...

### Gemini
- [指摘1] ...
- [指摘2] ...

### Claude
- [指摘1] ...
- [指摘2] ...

### 対応結果
| 指摘 | 対応 | 理由 |
|------|------|------|
| ... | 修正済 / 対応不要 | ... |

### 結論
✅ レビュー完了 - 全ての指摘に対応済み
```
