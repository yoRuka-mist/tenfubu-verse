# 修正完了内容

## 1. 通信対戦時のコイントスランダム化 ✅
- **問題**: HOSTが毎回先攻になっていた
- **修正**: `Math.random()`を使用して、HOSTも50%の確率で後攻になるように変更
- **ファイル**: `GameScreen.tsx` line 1878
- **結果**: 通信対戦時も公平にランダムで先攻/後攻が決定される

## 2. あじゃのバフ強化 ✅
- **変更前**: +1/+1
- **変更後**: +2/+2
- **ファイル**: `engine.ts` line 222, 240
- **影響**: 超進化時に召喚される「つぶまる」「ゆうなぎ」「なゆた」が+2/+2のバフを受ける

## 3. 進化時の突進付与問題修正 ✅
- **問題**: STORMを持っているカード(Yなど)が進化時にRUSHも付与され、重複していた
- **修正**: 
  - 通常進化時: STORMまたはRUSHを既に持っている場合は付与しない
  - 超進化時: STORMを持っている場合はRUSHを付与しない
- **ファイル**: `engine.ts` line 1742-1749, 1773-1780
- **結果**: 意図しない突進付与が発生しなくなる

## 4. 攻撃時のバグについて 🔍
- **現状**: コードを確認した結果、攻撃処理では以下の対策が実装されている:
  - `getActualBoardIndex`関数でinstanceIdから実際のボードインデックスを取得
  - `actualAttackerIndex`と`actualTargetIndex`を使用して正確な攻撃を実行
  - 攻撃パラメータを即座にキャプチャしてdispatch

- **推奨**: 
  - バグが再現する場合は、具体的な状況(どのカードで、どのカードを攻撃しようとしたか)を教えてください
  - `hoveredTarget`の`instanceId`が正しく設定されているか確認が必要

## 次のステップ
- ゲームをテストして、これらの修正が正しく動作することを確認
- 攻撃時のバグが再現する場合は、詳細な状況を報告してください
